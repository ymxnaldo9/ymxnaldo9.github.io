<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="UberArrays and stringsTwo Sum12345678class Solution:    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:        record &#x3D; dict()        for idx, i in enumerate(nums):            if targe">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/09/28/leetcode%20practice1/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="UberArrays and stringsTwo Sum12345678class Solution:    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:        record &#x3D; dict()        for idx, i in enumerate(nums):            if targe">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-09-29T00:58:12.256Z">
<meta property="article:modified_time" content="2022-12-07T18:40:26.041Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-leetcode practice1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/28/leetcode%20practice1/" class="article-date">
  <time class="dt-published" datetime="2022-09-29T00:58:12.256Z" itemprop="datePublished">2022-09-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Uber"><a href="#Uber" class="headerlink" title="Uber"></a>Uber</h1><h2 id="Arrays-and-strings"><a href="#Arrays-and-strings" class="headerlink" title="Arrays and strings"></a>Arrays and strings</h2><h3 id="Two-Sum"><a href="#Two-Sum" class="headerlink" title="Two Sum"></a>Two Sum</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        record = <span class="built_in">dict</span>()</span><br><span class="line">        <span class="keyword">for</span> idx, i <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">            <span class="keyword">if</span> target - i <span class="keyword">not</span> <span class="keyword">in</span> record:</span><br><span class="line">                record[i] = idx</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> [record[target - i], idx]</span><br></pre></td></tr></table></figure>

<h3 id="Find-first-and-Last-Position-of-Element-in-Sorted-Array"><a href="#Find-first-and-Last-Position-of-Element-in-Sorted-Array" class="headerlink" title="Find first and Last Position of Element in Sorted Array"></a>Find first and Last Position of Element in Sorted Array</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchRange</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        leftborder = self.binarySearch(nums, target)</span><br><span class="line">        rightborder = self.binarySearch(nums, target + <span class="number">1</span>) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> leftborder == <span class="built_in">len</span>(nums) <span class="keyword">or</span> nums[leftborder] != target:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> [leftborder, rightborder]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">binarySearch</span>(<span class="params">self, nums, target</span>):</span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        right = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">            middle = (left + right) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[middle] &gt;= target:</span><br><span class="line">                right = middle - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                left = middle + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> left</span><br></pre></td></tr></table></figure>

<p>注意需要考虑特殊情况，即搜不到target的时候，此时首先确认左边界是否还在数组内，之后确认数组在左边界上的值是否为target。如果不是则说明未搜到。</p>
<h3 id="Group-Anagrams"><a href="#Group-Anagrams" class="headerlink" title="Group Anagrams"></a>Group Anagrams</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">groupAnagrams</span>(<span class="params">self, strs: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]:</span><br><span class="line">        result = []</span><br><span class="line">        <span class="built_in">dict</span> = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">str</span> <span class="keyword">in</span> strs:</span><br><span class="line">            s = <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">sorted</span>(<span class="built_in">str</span>))</span><br><span class="line">            <span class="keyword">if</span> s <span class="keyword">in</span> <span class="built_in">dict</span>:</span><br><span class="line">                <span class="built_in">dict</span>[s].append(<span class="built_in">str</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">dict</span>[s] = []</span><br><span class="line">                <span class="built_in">dict</span>[s].append(<span class="built_in">str</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">dict</span>.values():</span><br><span class="line">            result.append(i)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>利用字典来完成，注意当出现新的key时的写法。</p>
<h3 id="Text-Justification"><a href="#Text-Justification" class="headerlink" title="Text Justification"></a>Text Justification</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fullJustify</span>(<span class="params">self, words, maxWidth</span>):</span><br><span class="line">        res = []</span><br><span class="line">        <span class="comment">#记录每次进入小循环时i的值</span></span><br><span class="line">        flag = <span class="number">0</span></span><br><span class="line">        <span class="comment">#每次小循环单词连接而成的字符串</span></span><br><span class="line">        string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="comment">#单词之间空格的数目</span></span><br><span class="line">        space_len = <span class="number">0</span></span><br><span class="line">        <span class="comment">#遍历循环所有单词</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(words):</span><br><span class="line">            <span class="comment">#每次加上一个单词并在单词后加一个空格</span></span><br><span class="line">            string += words[i] + <span class="string">&#x27; &#x27;</span></span><br><span class="line">            <span class="comment">#当前连接串长度</span></span><br><span class="line">            length = <span class="built_in">len</span>(string)</span><br><span class="line">            <span class="comment">#当前连接串长度减一（最后多一个空格）等于目标长度</span></span><br><span class="line">            <span class="keyword">if</span> length - <span class="number">1</span> == maxWidth:</span><br><span class="line">                <span class="comment">#把当前串去除最后多余的空格并加入res</span></span><br><span class="line">                res.append(string[:-<span class="number">1</span>])</span><br><span class="line">                <span class="comment">#当前串已加入res可以置为空了</span></span><br><span class="line">                string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="comment"># flag指向下一个单词的位置</span></span><br><span class="line">                flag = i + <span class="number">1</span></span><br><span class="line">            <span class="comment"># 当前连接串长度减一（最后多一个空格）大于目标长度</span></span><br><span class="line">            <span class="keyword">elif</span> length - <span class="number">1</span> &gt; maxWidth:</span><br><span class="line">                string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="comment">#需要循环i - flag - 1次，flag上次的位置，又因为最后一个单词要特殊处理</span></span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i - flag - <span class="number">1</span>):</span><br><span class="line">                    <span class="comment">#单词的总长度。length总长度。len(words[i])多加单词的长度。1多加的空格。i个单词有i个空格。flag上次的起始位置</span></span><br><span class="line">                    word_len = length - <span class="built_in">len</span>(words[i]) - <span class="number">1</span> - i + flag</span><br><span class="line">                    <span class="comment">#第一次直接用目的长度减单词总长度即为可用空格数</span></span><br><span class="line">                    <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">                        all_space_len = maxWidth - word_len</span><br><span class="line">                    <span class="comment">#否则每次令总长度减去易用的空格数</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        all_space_len -= space_len</span><br><span class="line">                    <span class="comment">#空格总长度除以空格段数能除尽，直接让空格长度为其值</span></span><br><span class="line">                    <span class="keyword">if</span> (all_space_len) % (i - <span class="number">1</span> - flag - j) == <span class="number">0</span>:</span><br><span class="line">                        space_len = <span class="built_in">int</span>((all_space_len) / (i - <span class="number">1</span> - flag - j))</span><br><span class="line">                    <span class="comment">#除不尽则取整加一</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        space_len = <span class="built_in">int</span>((all_space_len) / (i - <span class="number">1</span> - flag - j)) + <span class="number">1</span></span><br><span class="line">                    <span class="comment">#构造单词字符串</span></span><br><span class="line">                    string += words[flag + j] + <span class="string">&#x27; &#x27;</span> * space_len</span><br><span class="line">                <span class="comment">#除去最后多加的空格</span></span><br><span class="line">                string = string[:-space_len]</span><br><span class="line">                <span class="comment">#最后一个单词的特殊处理，add_len是最后一个单词之前要填充的空格数</span></span><br><span class="line">                add_len = maxWidth - <span class="built_in">len</span>(string) - <span class="built_in">len</span>(words[i - <span class="number">1</span>])</span><br><span class="line">                <span class="comment">#最后串如果为空则先写单词再加空格，否则先加空格再写单词</span></span><br><span class="line">                add_string = words[i - <span class="number">1</span>] + <span class="string">&#x27; &#x27;</span> * add_len <span class="keyword">if</span> string == <span class="string">&#x27;&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27; &#x27;</span> * add_len + words[i - <span class="number">1</span>]</span><br><span class="line">                string += add_string</span><br><span class="line">                <span class="comment">#处理好最后一个单词，再加入res</span></span><br><span class="line">                res.append(string)</span><br><span class="line">                <span class="comment">#标记flag</span></span><br><span class="line">                flag = i</span><br><span class="line">                <span class="comment">#进来的时候总长度是大于目标长度的，即i多加了1，这里减一</span></span><br><span class="line">                i -= <span class="number">1</span></span><br><span class="line">                <span class="comment">#串置为空</span></span><br><span class="line">                string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="comment">#最后如果串不为空，则最后一行没有满，没有进小循环，把串加入str</span></span><br><span class="line">        <span class="keyword">if</span> string != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">            <span class="comment">#除去最后多余的一个空格</span></span><br><span class="line">            string = string[:-<span class="number">1</span>]</span><br><span class="line">            <span class="comment">#得到尾部需要填充空格的长度</span></span><br><span class="line">            add_len = maxWidth - <span class="built_in">len</span>(string)</span><br><span class="line">            <span class="comment">#填充空格</span></span><br><span class="line">            string += <span class="string">&#x27; &#x27;</span> * add_len</span><br><span class="line">            <span class="comment">#加入res</span></span><br><span class="line">            res.append(string)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h3 id="Minimum-Window-Substring"><a href="#Minimum-Window-Substring" class="headerlink" title="Minimum Window Substring"></a>Minimum Window Substring</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minWindow</span>(<span class="params">self, s: <span class="built_in">str</span>, t: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">import</span> collections</span><br><span class="line">        record = collections.defaultdict(<span class="built_in">int</span>)</span><br><span class="line">        <span class="keyword">for</span> items <span class="keyword">in</span> t:</span><br><span class="line">            record[items] += <span class="number">1</span></span><br><span class="line">        n = <span class="built_in">len</span>(t)</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        res = (<span class="number">0</span>, <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>))</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            c = s[j]</span><br><span class="line">            <span class="keyword">if</span> record[c] &gt;= <span class="number">1</span>:</span><br><span class="line">                n -= <span class="number">1</span></span><br><span class="line">            record[c] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    c = s[i]</span><br><span class="line">                    <span class="keyword">if</span> record[c] == <span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    record[c] += <span class="number">1</span></span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> j - i &lt; res[<span class="number">1</span>] - res[<span class="number">0</span>]:</span><br><span class="line">                    res = (i, j)</span><br><span class="line">                record[s[i]] += <span class="number">1</span></span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                n += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> res[<span class="number">1</span>] &gt; <span class="built_in">len</span>(s):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> s[res[<span class="number">0</span>]: res[<span class="number">1</span>] + <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>首先记录一个小tip：使用一般字典时，key值不存在即会报错，则可使用defaultdict，参数为int时初始值默认为0。</p>
<p>题目使用滑动窗口思想，整体思路如下：</p>
<p>（1）右移j，直到包含所有元素。</p>
<p>（2）右移i，直到出现第一个在t中的元素。</p>
<p>（3）更新长度。</p>
<h3 id="Validate-IP-Address"><a href="#Validate-IP-Address" class="headerlink" title="Validate IP Address"></a>Validate IP Address</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">validIPAddress</span>(<span class="params">self, queryIP: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;.&#x27;</span> <span class="keyword">in</span> queryIP <span class="keyword">and</span> self.checkipV4(queryIP):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;IPv4&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27;:&#x27;</span> <span class="keyword">in</span> queryIP <span class="keyword">and</span> self.checkipV6(queryIP):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;IPv6&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;Neither&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkipV4</span>(<span class="params">self, queryIP</span>):</span><br><span class="line">        numbers = queryIP.split(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(numbers) != <span class="number">4</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> numbers:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num.isdecimal():</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> num[<span class="number">0</span>] == <span class="string">&#x27;0&#x27;</span> <span class="keyword">and</span> <span class="built_in">len</span>(num) != <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">int</span>(num) &gt; <span class="number">255</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkipV6</span>(<span class="params">self, queryIP</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;::&#x27;</span> <span class="keyword">in</span> queryIP:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        numbers = queryIP.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(numbers) &gt; <span class="number">8</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        validword = <span class="string">&#x27;0123456789abcdefABCDEF&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> numbers:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(num) &gt;= <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">for</span> n <span class="keyword">in</span> num:</span><br><span class="line">                <span class="keyword">if</span> n <span class="keyword">not</span> <span class="keyword">in</span> validword:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>根据字符串里的’.’和’:’先分为ipv4和ipv6，然后分别制定规则检查是否有效。</p>
<h2 id="Linked-List"><a href="#Linked-List" class="headerlink" title="Linked List"></a>Linked List</h2><h3 id="Merge-Two-Sorted-Lists"><a href="#Merge-Two-Sorted-Lists" class="headerlink" title="Merge Two Sorted Lists"></a>Merge Two Sorted Lists</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1: <span class="type">Optional</span>[ListNode], list2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        head = ListNode(<span class="number">0</span>)</span><br><span class="line">        l = head</span><br><span class="line">        <span class="keyword">while</span> list1 <span class="keyword">and</span> list2:</span><br><span class="line">            <span class="keyword">if</span> list1.val &lt;= list2.val:</span><br><span class="line">                l.<span class="built_in">next</span> = list1</span><br><span class="line">                list1 = list1.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l.<span class="built_in">next</span> = list2</span><br><span class="line">                list2 = list2.<span class="built_in">next</span></span><br><span class="line">            l = l.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">if</span> list1:</span><br><span class="line">            l.<span class="built_in">next</span> = list1</span><br><span class="line">        <span class="keyword">if</span> list2:</span><br><span class="line">            l.<span class="built_in">next</span> = list2</span><br><span class="line">        <span class="keyword">return</span> head.<span class="built_in">next</span></span><br></pre></td></tr></table></figure>

<h3 id="Merge-k-Sorted-Lists"><a href="#Merge-k-Sorted-Lists" class="headerlink" title="Merge k Sorted Lists"></a>Merge k Sorted Lists</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeKLists</span>(<span class="params">self, lists: <span class="type">List</span>[<span class="type">Optional</span>[ListNode]]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> lists:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        n = <span class="built_in">len</span>(lists)</span><br><span class="line">        <span class="keyword">return</span> self.merge(lists, <span class="number">0</span>, n - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">self, lists, left, right</span>):</span><br><span class="line">        <span class="keyword">if</span> left == right:</span><br><span class="line">            <span class="keyword">return</span> lists[left]</span><br><span class="line">        middle = (left + right) // <span class="number">2</span></span><br><span class="line">        l1 = self.merge(lists, left, middle)</span><br><span class="line">        l2 = self.merge(lists, middle + <span class="number">1</span>, right)</span><br><span class="line">        <span class="keyword">return</span> self.mergetwolists(l1, l2)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergetwolists</span>(<span class="params">self, list1, list2</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list1:</span><br><span class="line">            <span class="keyword">return</span> list2</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list2:</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        <span class="keyword">if</span> list1.val &lt;= list2.val:</span><br><span class="line">            list1.<span class="built_in">next</span> = self.mergetwolists(list1.<span class="built_in">next</span>, list2)</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            list2.<span class="built_in">next</span> = self.mergetwolists(list1, list2.<span class="built_in">next</span>)</span><br><span class="line">            <span class="keyword">return</span> list2</span><br></pre></td></tr></table></figure>

<h2 id="Trees-and-graphs"><a href="#Trees-and-graphs" class="headerlink" title="Trees and graphs"></a>Trees and graphs</h2><h3 id="Reconstruct-Itinerary"><a href="#Reconstruct-Itinerary" class="headerlink" title="Reconstruct Itinerary"></a>Reconstruct Itinerary</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.path = [<span class="string">&#x27;JFK&#x27;</span>]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findItinerary</span>(<span class="params">self, tickets: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line">        ticket_dict = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> items <span class="keyword">in</span> tickets:</span><br><span class="line">            ticket_dict[items[<span class="number">0</span>]].append(items[<span class="number">1</span>])</span><br><span class="line">        self.backtracking(tickets, ticket_dict, <span class="string">&#x27;JFK&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.path</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backtracking</span>(<span class="params">self, tickets, ticket_dict, start_point</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.path) == <span class="built_in">len</span>(tickets) + <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        ticket_dict[start_point].sort()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ticket_dict[start_point])):</span><br><span class="line">            end_point = ticket_dict[start_point].pop(<span class="number">0</span>)</span><br><span class="line">            self.path.append(end_point)</span><br><span class="line">            <span class="keyword">if</span> self.backtracking(tickets, ticket_dict, end_point):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            self.path.pop()</span><br><span class="line">            ticket_dict[start_point].append(end_point)</span><br></pre></td></tr></table></figure>

<h3 id="Evaluate-Division"><a href="#Evaluate-Division" class="headerlink" title="Evaluate Division"></a>Evaluate Division</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calcEquation</span>(<span class="params">self, equations: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]], values: <span class="type">List</span>[<span class="built_in">float</span>], queries: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">        graph = defaultdict(defaultdict)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(equations)):</span><br><span class="line">            graph[equations[i][<span class="number">0</span>]][equations[i][<span class="number">1</span>]] = values[i]</span><br><span class="line">            graph[equations[i][<span class="number">1</span>]][equations[i][<span class="number">0</span>]] = <span class="number">1</span> / values[i]</span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> start_point, end_point <span class="keyword">in</span> queries:</span><br><span class="line">            <span class="keyword">if</span> start_point <span class="keyword">not</span> <span class="keyword">in</span> graph <span class="keyword">or</span> end_point <span class="keyword">not</span> <span class="keyword">in</span> graph:</span><br><span class="line">                r = -<span class="number">1.0</span></span><br><span class="line">            <span class="keyword">elif</span> start_point == end_point:</span><br><span class="line">                r = <span class="number">1.0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = self.dfs(start_point, end_point, graph, <span class="number">1</span>, <span class="built_in">set</span>())</span><br><span class="line">            result.append(r)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">self, start_point, end_point, graph, cur_value, visited</span>):</span><br><span class="line">        visited.add(start_point)</span><br><span class="line">        res = -<span class="number">1.0</span></span><br><span class="line">        neighbors = graph[start_point]</span><br><span class="line">        <span class="keyword">if</span> end_point <span class="keyword">in</span> neighbors:</span><br><span class="line">            res = cur_value * neighbors[end_point]</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> neighbor, value <span class="keyword">in</span> neighbors.items():</span><br><span class="line">                <span class="keyword">if</span> neighbor <span class="keyword">in</span> visited:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                res = self.dfs(neighbor, end_point, graph, cur_value * value, visited)</span><br><span class="line">                <span class="keyword">if</span> res != -<span class="number">1.0</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        visited.remove(start_point)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p>用一个带有两个keys的字典来存储图的信息，使用深度优先搜索。</p>
<h3 id="Find-Duplicate-Subtrees"><a href="#Find-Duplicate-Subtrees" class="headerlink" title="Find Duplicate Subtrees"></a>Find Duplicate Subtrees</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findDuplicateSubtrees</span>(<span class="params">self, root: <span class="type">Optional</span>[TreeNode]</span>) -&gt; <span class="type">List</span>[<span class="type">Optional</span>[TreeNode]]:</span><br><span class="line">        <span class="keyword">import</span> collections</span><br><span class="line">        res = []</span><br><span class="line">        m = collections.defaultdict(<span class="built_in">int</span>)</span><br><span class="line">        self.helper(root, m, res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">self, root, m, res</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        path = <span class="built_in">str</span>(root.val) + <span class="string">&#x27;,&#x27;</span> + self.helper(root.left, m, res) + <span class="string">&#x27;,&#x27;</span> + self.helper(root.right, m, res)</span><br><span class="line">        <span class="keyword">if</span> m[path] == <span class="number">1</span>:</span><br><span class="line">            res.append(root) </span><br><span class="line">        m[path] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> path</span><br></pre></td></tr></table></figure>

<h3 id="Print-Binary-Tree"><a href="#Print-Binary-Tree" class="headerlink" title="Print Binary Tree"></a>Print Binary Tree</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printTree</span>(<span class="params">self, root: <span class="type">Optional</span>[TreeNode]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">getdepth</span>(<span class="params">root</span>):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span> + <span class="built_in">max</span>(getdepth(root.left), getdepth(root.right))</span><br><span class="line">        h = getdepth(root)</span><br><span class="line">        result = [[<span class="string">&#x27;&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span> ** h - <span class="number">1</span>)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(h)]</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">fill_tree</span>(<span class="params">root, row, col, height</span>):</span><br><span class="line">            result[row][col] = <span class="built_in">str</span>(root.val)</span><br><span class="line">            <span class="keyword">if</span> root.left:</span><br><span class="line">                fill_tree(root.left, row + <span class="number">1</span>, col - <span class="number">2</span> ** (height - row - <span class="number">2</span>), height)</span><br><span class="line">            <span class="keyword">if</span> root.right:</span><br><span class="line">                fill_tree(root.right, row + <span class="number">1</span>, col + <span class="number">2</span> ** (height - row - <span class="number">2</span>), height)</span><br><span class="line">        fill_tree(root, <span class="number">0</span>, <span class="number">2</span> ** (h - <span class="number">1</span>) - <span class="number">1</span>, h)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>首先测出二叉树的高度，再递归填每一行。</p>
<h3 id="Serialize-and-Deserialize-N-ary-Tree"><a href="#Serialize-and-Deserialize-N-ary-Tree" class="headerlink" title="Serialize and Deserialize N-ary Tree"></a>Serialize and Deserialize N-ary Tree</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Codec</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_serializeHelper</span>(<span class="params">self, root, serializedList</span>):</span><br><span class="line">        queue = collections.deque() </span><br><span class="line">        queue.append(root)</span><br><span class="line">        queue.append(<span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            <span class="comment"># Pop a node</span></span><br><span class="line">            node = queue.popleft();</span><br><span class="line">            <span class="comment"># If this is an &quot;endNode&quot;, we need to add another one</span></span><br><span class="line">            <span class="comment"># to mark the end of the current level unless this</span></span><br><span class="line">            <span class="comment"># was the last level.</span></span><br><span class="line">            <span class="keyword">if</span> (node == <span class="literal">None</span>):</span><br><span class="line">                <span class="comment"># We add a sentinal value of &quot;#&quot; here</span></span><br><span class="line">                serializedList.append(<span class="string">&#x27;#&#x27;</span>);</span><br><span class="line">                <span class="keyword">if</span> queue:</span><br><span class="line">                    queue.append(<span class="literal">None</span>);            </span><br><span class="line">            <span class="keyword">elif</span> node == <span class="string">&#x27;C&#x27;</span>:                </span><br><span class="line">                <span class="comment"># Add a sentinal value of &quot;$&quot; here to mark the switch to a</span></span><br><span class="line">                <span class="comment"># different parent.</span></span><br><span class="line">                serializedList.append(<span class="string">&#x27;$&#x27;</span>);               </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># Add value of the current node and add all of it&#x27;s</span></span><br><span class="line">                <span class="comment"># children nodes to the queue. Note how we convert</span></span><br><span class="line">                <span class="comment"># the integers to their corresponding ASCII counterparts.</span></span><br><span class="line">                serializedList.append(<span class="built_in">chr</span>(node.val + <span class="number">48</span>));</span><br><span class="line">                <span class="keyword">for</span> child <span class="keyword">in</span> node.children:</span><br><span class="line">                    queue.append(child);     </span><br><span class="line">                <span class="comment"># If this not is NOT the last one on the current level, </span></span><br><span class="line">                <span class="comment"># add a childNode as well since we move on to processing</span></span><br><span class="line">                <span class="comment"># the next node.</span></span><br><span class="line">                <span class="keyword">if</span> queue[<span class="number">0</span>] != <span class="literal">None</span>:</span><br><span class="line">                    queue.append(<span class="string">&#x27;C&#x27;</span>);</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">serialize</span>(<span class="params">self, root: <span class="string">&#x27;Node&#x27;</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Encodes a tree to a single string.</span></span><br><span class="line"><span class="string">        :type root: Node</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        serializedList = []</span><br><span class="line">        self._serializeHelper(root, serializedList)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(serializedList)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_deserializeHelper</span>(<span class="params">self, data, rootNode</span>):</span><br><span class="line">        <span class="comment"># We move one level at a time and at every level, we need access</span></span><br><span class="line">        <span class="comment"># to the nodes on the previous level as well so that we can form</span></span><br><span class="line">        <span class="comment"># the children arrays properly. Hence two arrays.</span></span><br><span class="line">        prevLevel, currentLevel = collections.deque(), collections.deque()</span><br><span class="line">        currentLevel.append(rootNode);</span><br><span class="line">        parentNode = rootNode;</span><br><span class="line">        <span class="comment"># Process the characters in the string one at a time.</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">1</span>, <span class="built_in">len</span>(data)):</span><br><span class="line">            <span class="keyword">if</span> data[i] == <span class="string">&#x27;#&#x27;</span>:</span><br><span class="line">                <span class="comment"># Special processing for end of level. We need to swap the</span></span><br><span class="line">                <span class="comment"># array lists. Here, we simply re-initialize the &quot;currentLevel&quot;</span></span><br><span class="line">                <span class="comment"># arraylist rather than clearing it.</span></span><br><span class="line">                prevLevel = currentLevel;</span><br><span class="line">                currentLevel = collections.deque()</span><br><span class="line">                <span class="comment"># Since we move one level down, we take the parent as the first</span></span><br><span class="line">                <span class="comment"># node on the current level.</span></span><br><span class="line">                parentNode = prevLevel.popleft() <span class="keyword">if</span> prevLevel <span class="keyword">else</span> <span class="literal">None</span>;</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> data[i] == <span class="string">&#x27;$&#x27;</span>:         </span><br><span class="line">                   <span class="comment"># Special handling for change in parent on the same level</span></span><br><span class="line">                    parentNode = prevLevel.popleft() <span class="keyword">if</span> prevLevel <span class="keyword">else</span> <span class="literal">None</span>;</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    childNode = Node(<span class="built_in">ord</span>(data[i]) - <span class="number">48</span>, []);    </span><br><span class="line">                    currentLevel.append(childNode);</span><br><span class="line">                    parentNode.children.append(childNode);     </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deserialize</span>(<span class="params">self, data: <span class="built_in">str</span></span>) -&gt; <span class="string">&#x27;Node&#x27;</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Decodes your encoded data to tree.</span></span><br><span class="line"><span class="string">        :type data: str</span></span><br><span class="line"><span class="string">        :rtype: Node</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span>   </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        rootNode = Node(<span class="built_in">ord</span>(data[<span class="number">0</span>]) - <span class="number">48</span>, [])</span><br><span class="line">        self._deserializeHelper(data, rootNode)</span><br><span class="line">        <span class="keyword">return</span> rootNode</span><br></pre></td></tr></table></figure>

<h2 id="Heaps-Queues-and-Stacks"><a href="#Heaps-Queues-and-Stacks" class="headerlink" title="Heaps, Queues, and, Stacks"></a>Heaps, Queues, and, Stacks</h2><h3 id="Trapping-Rain-Water"><a href="#Trapping-Rain-Water" class="headerlink" title="Trapping Rain Water"></a>Trapping Rain Water</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        stack = [<span class="number">0</span>]</span><br><span class="line">        result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(height)):</span><br><span class="line">            <span class="keyword">if</span> height[i] &lt; height[stack[-<span class="number">1</span>]]:</span><br><span class="line">                stack.append(i)</span><br><span class="line">            <span class="keyword">elif</span> height[i] == height[stack[-<span class="number">1</span>]]:</span><br><span class="line">                stack.pop()</span><br><span class="line">                stack.append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">while</span> stack <span class="keyword">and</span> height[i] &gt; height[stack[-<span class="number">1</span>]]:</span><br><span class="line">                    mid_height = height[stack[-<span class="number">1</span>]]</span><br><span class="line">                    stack.pop()</span><br><span class="line">                    <span class="keyword">if</span> stack:</span><br><span class="line">                        right_height = height[i]</span><br><span class="line">                        left_height = height[stack[-<span class="number">1</span>]]</span><br><span class="line">                        h = <span class="built_in">min</span>(right_height, left_height) - mid_height</span><br><span class="line">                        w = i - stack[-<span class="number">1</span>] - <span class="number">1</span></span><br><span class="line">                        result += h * w</span><br><span class="line">                stack.append(i)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h3 id="Basic-Calculator"><a href="#Basic-Calculator" class="headerlink" title="Basic Calculator"></a>Basic Calculator</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        stack = []</span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        sign = <span class="number">1</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> c.isdigit():</span><br><span class="line">                num = <span class="number">10</span> * num + <span class="built_in">int</span>(c)</span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                res += num * sign</span><br><span class="line">                num = <span class="number">0</span></span><br><span class="line">                sign = <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                res += num * sign</span><br><span class="line">                num = <span class="number">0</span></span><br><span class="line">                sign = -<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                stack.append(res)</span><br><span class="line">                stack.append(sign)</span><br><span class="line">                res = <span class="number">0</span></span><br><span class="line">                sign = <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                res += num * sign</span><br><span class="line">                num = <span class="number">0</span></span><br><span class="line">                res *= stack.pop()</span><br><span class="line">                res += stack.pop()</span><br><span class="line">        res += sign * num</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p>当下一个字符为数字时，则更新num。</p>
<p>当下一个字符为+或者-时，将num加入结果中，更新标志位。</p>
<p>当遇到左括号时，将结果和标志位存入栈中，结果清零。</p>
<p>当遇到右括号时，将num加入结果中，并将之前的结果和标志位出栈，更新总结果。</p>
<h3 id="Meeting-Rooms-II"><a href="#Meeting-Rooms-II" class="headerlink" title="Meeting Rooms II"></a>Meeting Rooms II</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minMeetingRooms</span>(<span class="params">self, intervals: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">import</span> heapq</span><br><span class="line">        intervals.sort(key = <span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line">        free_room = []</span><br><span class="line">        heapq.heappush(free_room, intervals[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(intervals)):</span><br><span class="line">            <span class="keyword">if</span> free_room[<span class="number">0</span>] &lt;= intervals[i][<span class="number">0</span>]:</span><br><span class="line">                heapq.heappop(free_room)</span><br><span class="line">            heapq.heappush(free_room, intervals[i][<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(free_room)</span><br></pre></td></tr></table></figure>

<p>采用堆的思路，将会议的结束时间存入堆中，当下一个会议的开始时间大于堆中的最小值时，弹出堆，将会议的结束时间存入堆中。</p>
<h3 id="Task-Scheduler"><a href="#Task-Scheduler" class="headerlink" title="Task Scheduler"></a>Task Scheduler</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">leastInterval</span>(<span class="params">self, tasks: <span class="type">List</span>[<span class="built_in">str</span>], n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        frequency = [<span class="number">0</span>] * <span class="number">26</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> tasks:</span><br><span class="line">            frequency[<span class="built_in">ord</span>(i) - <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)] += <span class="number">1</span></span><br><span class="line">        frequency.sort()</span><br><span class="line">        max_fre = frequency.pop()</span><br><span class="line">        free_time = (max_fre - <span class="number">1</span>) * n</span><br><span class="line">        <span class="keyword">while</span> frequency <span class="keyword">and</span> free_time &gt; <span class="number">0</span>:</span><br><span class="line">            free_time -= <span class="built_in">min</span>(max_fre - <span class="number">1</span>,frequency.pop())</span><br><span class="line">        free_time = <span class="built_in">max</span>(<span class="number">0</span>, free_time)</span><br><span class="line">        <span class="keyword">return</span> free_time + <span class="built_in">len</span>(tasks)</span><br></pre></td></tr></table></figure>

<p>首先进行分析，选出需要完成次数最多的任务，在该任务完成后的CPU等待期可完成其他任务，不能在等待期完成的任务则需要增加时间完成，我们求出需要增加的时间即可。</p>
<h3 id="Exclusive-Time-of-Functions"><a href="#Exclusive-Time-of-Functions" class="headerlink" title="Exclusive Time of Functions"></a>Exclusive Time of Functions</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">exclusiveTime</span>(<span class="params">self, n: <span class="built_in">int</span>, logs: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        stack = []</span><br><span class="line">        result = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">for</span> log <span class="keyword">in</span> logs:</span><br><span class="line">            log_id, t, time = log.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">            log_id = <span class="built_in">int</span>(log_id)</span><br><span class="line">            time = <span class="built_in">int</span>(time)</span><br><span class="line">            <span class="keyword">if</span> t == <span class="string">&quot;start&quot;</span>:</span><br><span class="line">                <span class="keyword">if</span> stack:</span><br><span class="line">                    result[stack[-<span class="number">1</span>][<span class="number">0</span>]] += time - stack[-<span class="number">1</span>][-<span class="number">1</span>]</span><br><span class="line">                stack.append([log_id, time])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i, begin_time = stack.pop()</span><br><span class="line">                result[i] += time - begin_time + <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> stack:</span><br><span class="line">                    stack[-<span class="number">1</span>][<span class="number">1</span>] = time + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>采用栈模拟系统调用过程，分为start和end两种情况分别讨论。如果是start，停止正在运行的进程，将新进程入栈，并将正在运行的进程时间记录下来。如果是end，则结算当前进程时间，并重新设置栈顶进程的开始时间。</p>
<h3 id="Employee-Free-Time"><a href="#Employee-Free-Time" class="headerlink" title="Employee Free Time"></a>Employee Free Time</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">employeeFreeTime</span>(<span class="params">self, schedule: <span class="string">&#x27;[[Interval]]&#x27;</span></span>) -&gt; <span class="string">&#x27;[Interval]&#x27;</span>:</span><br><span class="line">        all_interval = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> schedule:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">                all_interval.append(j)</span><br><span class="line">        all_interval.sort(key = <span class="keyword">lambda</span> x: x.start)</span><br><span class="line">        Start = all_interval[<span class="number">0</span>].start</span><br><span class="line">        End = all_interval[<span class="number">0</span>].end</span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(all_interval)):</span><br><span class="line">            <span class="keyword">if</span> End &gt;= all_interval[i].start:</span><br><span class="line">                End = <span class="built_in">max</span>(End, all_interval[i].end)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                Start = all_interval[i].start</span><br><span class="line">                result.append(Interval(End, Start))</span><br><span class="line">                End = all_interval[i].end</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h2 id="Recursion-and-Backtracking"><a href="#Recursion-and-Backtracking" class="headerlink" title="Recursion and Backtracking"></a>Recursion and Backtracking</h2><h3 id="Letter-Combinations-of-a-Phone-Number"><a href="#Letter-Combinations-of-a-Phone-Number" class="headerlink" title="Letter Combinations of a Phone Number"></a>Letter Combinations of a Phone Number</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.paths = []</span><br><span class="line">        self.path = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        self.letter_map = &#123;<span class="string">&#x27;2&#x27;</span>:<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;3&#x27;</span>:<span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;4&#x27;</span>:<span class="string">&#x27;ghi&#x27;</span>, <span class="string">&#x27;5&#x27;</span>:<span class="string">&#x27;jkl&#x27;</span>, <span class="string">&#x27;6&#x27;</span>:<span class="string">&#x27;mno&#x27;</span>, <span class="string">&#x27;7&#x27;</span>:<span class="string">&#x27;pqrs&#x27;</span>, <span class="string">&#x27;8&#x27;</span>:<span class="string">&#x27;tuv&#x27;</span>, <span class="string">&#x27;9&#x27;</span>:<span class="string">&#x27;wxyz&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">letterCombinations</span>(<span class="params">self, digits: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        self.backtracking(digits, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.paths</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backtracking</span>(<span class="params">self, digits, num</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(digits) == num:</span><br><span class="line">            self.paths.append(self.path)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        letters = self.letter_map[digits[num]]</span><br><span class="line">        <span class="keyword">for</span> letter <span class="keyword">in</span> letters:</span><br><span class="line">            self.path += letter</span><br><span class="line">            self.backtracking(digits, num + <span class="number">1</span>)</span><br><span class="line">            self.path = self.path[:-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>比较明显的回溯算法题目，注意倒数第1，3行字符串添加和删除元素（不能使用append）。</p>
<h3 id="Subsets"><a href="#Subsets" class="headerlink" title="Subsets"></a>Subsets</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.paths = []</span><br><span class="line">        self.path = []</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">subsets</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        self.backtracking(nums, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.paths</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backtracking</span>(<span class="params">self, nums, start_index</span>):</span><br><span class="line">        self.paths.append(self.path[:])</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums) == start_index:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start_index, <span class="built_in">len</span>(nums)):</span><br><span class="line">            self.path.append(nums[i])</span><br><span class="line">            self.backtracking(nums, i + <span class="number">1</span>)</span><br><span class="line">            self.path.pop()</span><br></pre></td></tr></table></figure>

<h2 id="Sorting-and-searching"><a href="#Sorting-and-searching" class="headerlink" title="Sorting and searching"></a>Sorting and searching</h2><h3 id="Merge-intervals"><a href="#Merge-intervals" class="headerlink" title="Merge intervals"></a>Merge intervals</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">self, intervals: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> intervals:</span><br><span class="line">            <span class="keyword">return</span> intervals</span><br><span class="line">        intervals.sort(key = <span class="keyword">lambda</span> x:x[<span class="number">0</span>])</span><br><span class="line">        result = []</span><br><span class="line">        result.append(intervals[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(intervals)):</span><br><span class="line">            cur = result[-<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> cur[<span class="number">1</span>] &gt;= intervals[i][<span class="number">0</span>]:</span><br><span class="line">                result[-<span class="number">1</span>] = [cur[<span class="number">0</span>], <span class="built_in">max</span>(cur[<span class="number">1</span>], intervals[i][<span class="number">1</span>])]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result.append(intervals[i])</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h3 id="Word-Ladder-II"><a href="#Word-Ladder-II" class="headerlink" title="Word Ladder II"></a>Word Ladder II</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findLadders</span>(<span class="params">self, beginWord, endWord, wordList</span>):</span><br><span class="line">        wordList = <span class="built_in">set</span>(wordList)</span><br><span class="line">        <span class="keyword">if</span> endWord <span class="keyword">not</span> <span class="keyword">in</span> wordList:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        curr_level = &#123;beginWord&#125;</span><br><span class="line">        parents = collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">while</span> curr_level:</span><br><span class="line">            wordList -= curr_level</span><br><span class="line">            next_level = <span class="built_in">set</span>()</span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> curr_level:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(word)):</span><br><span class="line">                    <span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">&#x27;abcdefghijklmnopqrstuvwxyz&#x27;</span>:</span><br><span class="line">                        new_word = word[:i] + c + word[i+<span class="number">1</span>:]</span><br><span class="line">                        <span class="keyword">if</span> new_word <span class="keyword">in</span> wordList:</span><br><span class="line">                            next_level.add(new_word)</span><br><span class="line">                            parents[new_word].append(word)</span><br><span class="line">            <span class="keyword">if</span> endWord <span class="keyword">in</span> next_level:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            curr_level = next_level</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">word, path</span>):</span><br><span class="line">            <span class="keyword">if</span> word == beginWord:</span><br><span class="line">                path.append(word)</span><br><span class="line">                res.append(path[::-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">for</span> p_word <span class="keyword">in</span> parents[word]:</span><br><span class="line">                    dfs(p_word, path + [word])</span><br><span class="line">        dfs(endWord, [])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p>首先建立每一个词与其下一个词相对应的字典，之后使用DFS将路径搜索出来。</p>
<h3 id="Number-of-Islands"><a href="#Number-of-Islands" class="headerlink" title="Number of Islands"></a>Number of Islands</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                    self.dfs(grid, i, j)</span><br><span class="line">                    result += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">self, grid, i, j</span>):</span><br><span class="line">        dirs = [[-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]]</span><br><span class="line">        grid[i][j] = <span class="string">&#x27;0&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">dir</span> <span class="keyword">in</span> dirs:</span><br><span class="line">            nr = i + <span class="built_in">dir</span>[<span class="number">0</span>]</span><br><span class="line">            nc = j + <span class="built_in">dir</span>[<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> nr &gt;= <span class="number">0</span> <span class="keyword">and</span> nc &gt;= <span class="number">0</span> <span class="keyword">and</span> nr &lt; <span class="built_in">len</span>(grid) <span class="keyword">and</span> nc &lt; <span class="built_in">len</span>(grid[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">if</span> grid[nr][nc] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                    self.dfs(grid, nr, nc)</span><br></pre></td></tr></table></figure>

<p>当检测到一个为1时，将其及其四周格的值转换为0，并对其四周值为1的格进行深度有限遍历。当主函数循环中检测到值为1的格时，将结果值加1.</p>
<h3 id="Walls-and-Gates"><a href="#Walls-and-Gates" class="headerlink" title="Walls and Gates"></a>Walls and Gates</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wallsAndGates</span>(<span class="params">self, rooms: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        GATE = <span class="number">0</span></span><br><span class="line">        Empty = <span class="number">2147483647</span></span><br><span class="line">        direction_r = [-<span class="number">1</span>, +<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        direction_c = [<span class="number">0</span>, <span class="number">0</span>, -<span class="number">1</span>, +<span class="number">1</span>]</span><br><span class="line">        r_queue = []</span><br><span class="line">        c_queue = []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> rooms: </span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        m, n = <span class="built_in">len</span>(rooms), <span class="built_in">len</span>(rooms[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> rooms[r][c] == GATE:</span><br><span class="line">                    r_queue.append(r)</span><br><span class="line">                    c_queue.append(c)</span><br><span class="line">        <span class="keyword">while</span> r_queue:</span><br><span class="line">            r = r_queue.pop(<span class="number">0</span>)</span><br><span class="line">            c = c_queue.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                rr = r + direction_r[i]</span><br><span class="line">                cc = c + direction_c[i]</span><br><span class="line">                <span class="keyword">if</span> rr &lt; <span class="number">0</span> <span class="keyword">or</span> cc &lt; <span class="number">0</span> <span class="keyword">or</span> rr &gt;= m <span class="keyword">or</span> cc &gt;= n: </span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> rooms[rr][cc] == Empty:</span><br><span class="line">                    rooms[rr][cc] = rooms[r][c] + <span class="number">1</span> </span><br><span class="line">                    r_queue.append(rr)</span><br><span class="line">                    c_queue.append(cc)</span><br></pre></td></tr></table></figure>

<h3 id="Remove-Invalid-Parentheses"><a href="#Remove-Invalid-Parentheses" class="headerlink" title="Remove Invalid Parentheses"></a>Remove Invalid Parentheses</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">removeInvalidParentheses</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">is_valid</span>(<span class="params">s</span>):</span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">                <span class="keyword">if</span> c == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                    count += <span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> c == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                    count -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> count &lt; <span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        result = []</span><br><span class="line">        curr_set = <span class="built_in">set</span>([s])</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> curr_set:</span><br><span class="line">                <span class="keyword">if</span> is_valid(i):</span><br><span class="line">                    result.append(i)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(result) &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> result</span><br><span class="line">            new_set = <span class="built_in">set</span>()</span><br><span class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> curr_set:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(item)):</span><br><span class="line">                    <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> item[i] == item[i - <span class="number">1</span>]:</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">if</span> item[i] == <span class="string">&#x27;(&#x27;</span> <span class="keyword">or</span> item[i] == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                        new_set.add(item[:i] + item[i + <span class="number">1</span>:])</span><br><span class="line">            curr_set = new_set</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>本题采用广度优先搜索，每次循环过程中删除一个括号，看是否有满足条件的字符串。</p>
<h3 id="24-Game"><a href="#24-Game" class="headerlink" title="24 Game"></a>24 Game</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">judgePoint24</span>(<span class="params">self, cards: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        nums = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> cards:</span><br><span class="line">            nums.append(<span class="built_in">float</span>(i))</span><br><span class="line">        <span class="keyword">return</span> self.dfs(nums)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">self, cards</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(cards) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">abs</span>(cards[<span class="number">0</span>], <span class="number">24</span>) &lt;= <span class="number">10</span> ** -<span class="number">8</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cards)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cards)):</span><br><span class="line">                <span class="keyword">if</span> i != j:</span><br><span class="line">                    <span class="keyword">if</span> self.dfs(self.get(cards, i, j, cards[i] + cards[j])):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">if</span> self.dfs(self.get(cards, i, j, cards[i] - cards[j])):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">if</span> self.dfs(self.get(cards, i, j, cards[i] * cards[j])):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">if</span> nums[j] != <span class="number">0</span> <span class="keyword">and</span> self.dfs(self.get(cards, i, j, cards[i] / cards[j])):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self, cards, i, j, x</span>):</span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cards)):</span><br><span class="line">            <span class="keyword">if</span> cards[t] != i <span class="keyword">and</span> cards[i] != j:</span><br><span class="line">                result.append(cards[t])</span><br><span class="line">        result.append(x)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>每次从四个数中选取两个，进行加减乘除运算，并把得到的新的数加入数组，不断重复上述过程，直到数组中只剩下一个数。另外，由于需要考虑除法的精度问题，判断计算结果是否为24时，需要加入误差。</p>
<h3 id="Max-Area-of-Island"><a href="#Max-Area-of-Island" class="headerlink" title="Max Area of Island"></a>Max Area of Island</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxAreaOfIsland</span>(<span class="params">self, grid</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> grid:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        max_area = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="number">1</span>:</span><br><span class="line">                    max_area = <span class="built_in">max</span>(max_area, self.dfs(grid, i, j))</span><br><span class="line">        <span class="keyword">return</span> max_area</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">self, grid, i, j</span>):</span><br><span class="line">        area = <span class="number">0</span></span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">        quene = deque([[i, j]])</span><br><span class="line">        directions = [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]]</span><br><span class="line">        <span class="keyword">while</span> quene:</span><br><span class="line">            size = <span class="built_in">len</span>(quene)</span><br><span class="line">            area += size</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(size):</span><br><span class="line">                cur = quene.popleft()</span><br><span class="line">                <span class="built_in">print</span>(cur)</span><br><span class="line">                grid[cur[<span class="number">0</span>]][cur[<span class="number">1</span>]] = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> direction <span class="keyword">in</span> directions:</span><br><span class="line">                    m = cur[<span class="number">0</span>] + direction[<span class="number">0</span>]</span><br><span class="line">                    n = cur[<span class="number">1</span>] + direction[<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">if</span> m &gt;= <span class="number">0</span> <span class="keyword">and</span> m &lt; <span class="built_in">len</span>(grid) <span class="keyword">and</span> n &gt;= <span class="number">0</span> <span class="keyword">and</span> n &lt; <span class="built_in">len</span>(grid[<span class="number">0</span>]):</span><br><span class="line">                        <span class="keyword">if</span> grid[m][n] == <span class="number">1</span>:</span><br><span class="line">                            <span class="keyword">if</span> [m, n] <span class="keyword">not</span> <span class="keyword">in</span> quene:</span><br><span class="line">                                quene.append([m, n])</span><br><span class="line">        <span class="keyword">return</span> area</span><br></pre></td></tr></table></figure>

<h3 id="Bus-Routes"><a href="#Bus-Routes" class="headerlink" title="Bus Routes"></a>Bus Routes</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numBusesToDestination</span>(<span class="params">self, routes: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], source: <span class="built_in">int</span>, target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">import</span> collections</span><br><span class="line">        <span class="keyword">if</span> source == target:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        route_of_stop = collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> rid, route <span class="keyword">in</span> <span class="built_in">enumerate</span>(routes):</span><br><span class="line">            <span class="keyword">for</span> stop <span class="keyword">in</span> route:</span><br><span class="line">                route_of_stop[stop].append(rid)</span><br><span class="line">        visited_route = <span class="built_in">set</span>()</span><br><span class="line">        visited_stop = &#123;source&#125;</span><br><span class="line">        queue = collections.deque([source])</span><br><span class="line">        now = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(queue)):</span><br><span class="line">                stop1 = queue.popleft()</span><br><span class="line">                <span class="keyword">for</span> rid <span class="keyword">in</span> route_of_stop[stop1]:</span><br><span class="line">                    <span class="keyword">if</span> rid <span class="keyword">not</span> <span class="keyword">in</span> visited_route:</span><br><span class="line">                        <span class="keyword">for</span> stop2 <span class="keyword">in</span> routes[rid]:</span><br><span class="line">                            <span class="keyword">if</span> stop2 == target:</span><br><span class="line">                                <span class="keyword">return</span> now + <span class="number">1</span></span><br><span class="line">                            <span class="keyword">if</span> stop2 <span class="keyword">not</span> <span class="keyword">in</span> visited_stop:</span><br><span class="line">                                queue.append(stop2)</span><br><span class="line">                                visited_stop.add(stop2)</span><br><span class="line">                    visited_route.add(rid)</span><br><span class="line">            now += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Shortest-Bridge"><a href="#Shortest-Bridge" class="headerlink" title="Shortest Bridge"></a>Shortest Bridge</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">shortestBridge</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        m = <span class="built_in">len</span>(grid)</span><br><span class="line">        n = <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="number">0</span>] * n <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m)]</span><br><span class="line">        directions = [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]]</span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">        que = deque()</span><br><span class="line">        hasfind = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">if</span> hasfind:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="number">1</span>:</span><br><span class="line">                    self.dfs(grid, i, j, visited, que)</span><br><span class="line">                    hasfind = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        step = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> que:</span><br><span class="line">            size = <span class="built_in">len</span>(que)</span><br><span class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(size):</span><br><span class="line">                cur = que.popleft()</span><br><span class="line">                <span class="keyword">for</span> direction <span class="keyword">in</span> directions:</span><br><span class="line">                    x = cur[<span class="number">0</span>] + direction[<span class="number">0</span>]</span><br><span class="line">                    y = cur[<span class="number">1</span>] + direction[<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">if</span> x &gt;= <span class="number">0</span> <span class="keyword">and</span> x &lt; m <span class="keyword">and</span> y &gt;= <span class="number">0</span> <span class="keyword">and</span> y &lt; n:</span><br><span class="line">                        <span class="keyword">if</span> grid[x][y] == <span class="number">1</span>:</span><br><span class="line">                            <span class="keyword">return</span> step</span><br><span class="line">                        <span class="keyword">elif</span> grid[x][y] == <span class="number">0</span>:</span><br><span class="line">                            grid[x][y] = <span class="number">2</span></span><br><span class="line">                            que.append([x, y])</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">            step += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">self, grid, i, j, visited, que</span>):</span><br><span class="line">        <span class="keyword">if</span> visited[i][j]:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        visited[i][j] = <span class="number">1</span></span><br><span class="line">        m = <span class="built_in">len</span>(grid)</span><br><span class="line">        n = <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        directions = [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]]</span><br><span class="line">        <span class="keyword">if</span> grid[i][j] == <span class="number">1</span>:</span><br><span class="line">            que.append([i, j])</span><br><span class="line">            grid[i][j] = <span class="number">2</span></span><br><span class="line">            <span class="keyword">for</span> direction <span class="keyword">in</span> directions:</span><br><span class="line">                x = i + direction[<span class="number">0</span>]</span><br><span class="line">                y = j + direction[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> x &gt;= <span class="number">0</span> <span class="keyword">and</span> x &lt; m <span class="keyword">and</span> y &gt;= <span class="number">0</span> <span class="keyword">and</span> y &lt; n:</span><br><span class="line">                    self.dfs(grid, x, y, visited, que)</span><br></pre></td></tr></table></figure>

<p>分为两步，首先通过dfs找到其中一个岛，并且为了区分将其值改为2，再通过bfs找到最小的step。</p>
<h2 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h2><h3 id="Word-Break"><a href="#Word-Break" class="headerlink" title="Word Break"></a>Word Break</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wordBreak</span>(<span class="params">self, s: <span class="built_in">str</span>, wordDict: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        dp = [<span class="literal">False</span>] * (<span class="built_in">len</span>(s) + <span class="number">1</span>)</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(s) + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> wordDict:</span><br><span class="line">                <span class="keyword">if</span> i &gt;= <span class="built_in">len</span>(word):</span><br><span class="line">                    dp[i] = dp[i] <span class="keyword">or</span> (dp[i - <span class="built_in">len</span>(word)] <span class="keyword">and</span> word == s[i - <span class="built_in">len</span>(word):i])</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="built_in">len</span>(s)]</span><br></pre></td></tr></table></figure>

<h3 id="Perfect-Squares"><a href="#Perfect-Squares" class="headerlink" title="Perfect Squares"></a>Perfect Squares</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numSquares</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        dp = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n): </span><br><span class="line">            <span class="keyword">if</span> i ** <span class="number">2</span> &gt; n:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            num = i ** <span class="number">2</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(num, n + <span class="number">1</span>): </span><br><span class="line">                dp[j] = <span class="built_in">min</span>(dp[j], dp[j - num] + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[n]</span><br></pre></td></tr></table></figure>

<p>注意要先遍历物品再遍历背包才能满足时间需求。</p>
<h3 id="Russian-Doll-Envelopes"><a href="#Russian-Doll-Envelopes" class="headerlink" title="Russian Doll Envelopes"></a>Russian Doll Envelopes</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxEnvelopes</span>(<span class="params">self, envelopes: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">import</span> bisect</span><br><span class="line">        envelopes.sort(key=<span class="keyword">lambda</span> x: (x[<span class="number">0</span>], -x[<span class="number">1</span>]))</span><br><span class="line">        dp = []</span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        envelopesLen = <span class="built_in">len</span>(envelopes)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(envelopesLen):</span><br><span class="line">            idx = bisect.bisect_left(dp, envelopes[i][<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> idx == cnt:</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">                dp.append(envelopes[i][<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[idx] = envelopes[i][<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure>

<p>这个题，将envelopes以x升序、x相等时y降序的原则进行排序，然后转为计算y方向上的最长递增子序列，不过这里选取二分查找法来计算递增子序列。</p>
<h3 id="Maximum-Vacation-Days"><a href="#Maximum-Vacation-Days" class="headerlink" title="Maximum Vacation Days"></a>Maximum Vacation Days</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxVacationDays</span>(<span class="params">self, flights: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], days: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(days) == <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(flights) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        m = <span class="built_in">len</span>(days)</span><br><span class="line">        n = <span class="built_in">len</span>(days[<span class="number">0</span>])</span><br><span class="line">        dp = [[<span class="number">0</span>] * (n + <span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m)]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                dp[i][j] = dp[i][j + <span class="number">1</span>] + days[i][j]</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                    <span class="keyword">if</span> flights[i][k] == <span class="number">1</span>:</span><br><span class="line">                        dp[i][j] = <span class="built_in">max</span>(dp[i][j], dp[k][j + <span class="number">1</span>] + days[k][j])</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>由于必须要从0出发，而最后到达的地点没有进行规定，所以可以采取从结果倒推的思路。</p>
<h3 id="Cherry-Pickup"><a href="#Cherry-Pickup" class="headerlink" title="Cherry Pickup"></a>Cherry Pickup</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cherryPickup</span>(<span class="params">self, grid</span>):</span><br><span class="line">        <span class="keyword">if</span> grid[-<span class="number">1</span>][-<span class="number">1</span>] == -<span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.grid = grid</span><br><span class="line">        self.memo = &#123;&#125;</span><br><span class="line">        self.N = <span class="built_in">len</span>(grid)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(self.dp(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dp</span>(<span class="params">self, i1, j1, i2, j2</span>):</span><br><span class="line">        <span class="keyword">if</span> (i1, j1, i2, j2) <span class="keyword">in</span> self.memo: </span><br><span class="line">            <span class="keyword">return</span> self.memo[(i1, j1, i2, j2)]</span><br><span class="line">        N = self.N</span><br><span class="line">        <span class="keyword">if</span> i1 == N <span class="keyword">or</span> j1 == N <span class="keyword">or</span> i2 == N <span class="keyword">or</span> j2 == N: </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> i1 == N-<span class="number">1</span> <span class="keyword">and</span> j1 == N-<span class="number">1</span> <span class="keyword">and</span> i2 == N-<span class="number">1</span> <span class="keyword">and</span> j2 == N-<span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> self.grid[-<span class="number">1</span>][-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> self.grid[i1][j1] == -<span class="number">1</span> <span class="keyword">or</span> self.grid[i2][j2] == -<span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        dd = self.dp(i1+<span class="number">1</span>, j1, i2+<span class="number">1</span>, j2)</span><br><span class="line">        dr = self.dp(i1+<span class="number">1</span>, j1, i2, j2+<span class="number">1</span>)</span><br><span class="line">        rd = self.dp(i1, j1+<span class="number">1</span>, i2+<span class="number">1</span>, j2)</span><br><span class="line">        rr = self.dp(i1, j1+<span class="number">1</span>, i2, j2+<span class="number">1</span>)</span><br><span class="line">        maxComb = <span class="built_in">max</span>([dd, dr, rd, rr])</span><br><span class="line">        <span class="keyword">if</span> maxComb == -<span class="number">1</span>:</span><br><span class="line">            out = -<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> i1 == i2 <span class="keyword">and</span> j1 == j2:</span><br><span class="line">                out = maxComb + self.grid[i1][j1]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                out = maxComb + self.grid[i1][j1] + self.grid[i2][j2]</span><br><span class="line">        self.memo[(i1, j1, i2, j2)] = out</span><br><span class="line">        <span class="keyword">return</span> out</span><br></pre></td></tr></table></figure>

<h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><h3 id="Valid-Sudoku"><a href="#Valid-Sudoku" class="headerlink" title="Valid Sudoku"></a>Valid Sudoku</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isValidSudoku</span>(<span class="params">self, board</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">is_valid_row</span>(<span class="params">board</span>):</span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> board:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> is_valid(row):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">is_valid_column</span>(<span class="params">board</span>):</span><br><span class="line">            <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">zip</span>(*board): </span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> is_valid(col):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">is_valid_square</span>(<span class="params">board</span>):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">3</span>,<span class="number">6</span>):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">3</span>,<span class="number">6</span>):</span><br><span class="line">                    square = [board[x][y] <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(i, i + <span class="number">3</span>) <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(j, j + <span class="number">3</span>)]</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> is_valid(square):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">is_valid</span>(<span class="params">value</span>):</span><br><span class="line">            res = [i <span class="keyword">for</span> i <span class="keyword">in</span> value <span class="keyword">if</span> i != <span class="string">&#x27;.&#x27;</span>]</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">len</span>(res) == <span class="built_in">len</span>(<span class="built_in">set</span>(res))</span><br><span class="line">        <span class="keyword">return</span> is_valid_row(board) <span class="keyword">and</span> is_valid_column(board) <span class="keyword">and</span> is_valid_square(board)</span><br></pre></td></tr></table></figure>

<h3 id="Candy"><a href="#Candy" class="headerlink" title="Candy"></a>Candy</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">candy</span>(<span class="params">self, ratings: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        can = [<span class="number">1</span>] * <span class="built_in">len</span>(ratings)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(ratings)):</span><br><span class="line">            <span class="keyword">if</span> ratings[i] &gt; ratings[i - <span class="number">1</span>]:</span><br><span class="line">                can[i] = can[i - <span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ratings) - <span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> ratings[j] &gt; ratings[j + <span class="number">1</span>]:</span><br><span class="line">                can[j] = <span class="built_in">max</span>(can[j], can[j + <span class="number">1</span>] + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(can)</span><br></pre></td></tr></table></figure>

<p>贪心算法，分别对从左到右和从右到左进行讨论。</p>
<h3 id="Fraction-to-Recurring-Decimal"><a href="#Fraction-to-Recurring-Decimal" class="headerlink" title="Fraction to Recurring Decimal"></a>Fraction to Recurring Decimal</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fractionToDecimal</span>(<span class="params">self, numerator, denominator</span>):</span><br><span class="line">        <span class="keyword">if</span> numerator % denominator == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">str</span>(numerator//denominator)</span><br><span class="line">        sign = <span class="string">&#x27;&#x27;</span> </span><br><span class="line">        <span class="keyword">if</span> numerator * denominator &lt; <span class="number">0</span>:</span><br><span class="line">            sign = <span class="string">&#x27;-&#x27;</span></span><br><span class="line">        numerator = <span class="built_in">abs</span>(numerator)</span><br><span class="line">        denominator = <span class="built_in">abs</span>(denominator)</span><br><span class="line">        res = sign + <span class="built_in">str</span>(numerator//denominator) + <span class="string">&#x27;.&#x27;</span></span><br><span class="line">        numerator %= denominator</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        part = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        m = &#123;numerator:i&#125;</span><br><span class="line">        <span class="keyword">while</span> numerator % denominator:</span><br><span class="line">            numerator *= <span class="number">10</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            rem = numerator % denominator</span><br><span class="line">            part += <span class="built_in">str</span>(numerator // denominator)</span><br><span class="line">            <span class="keyword">if</span> rem <span class="keyword">in</span> m:</span><br><span class="line">                part = part[:m[rem]] + <span class="string">&#x27;(&#x27;</span> + part[m[rem]:] + <span class="string">&#x27;)&#x27;</span></span><br><span class="line">                <span class="keyword">return</span> res + part</span><br><span class="line">            m[rem] = i</span><br><span class="line">            numerator = rem</span><br><span class="line">        <span class="keyword">return</span> res + part</span><br></pre></td></tr></table></figure>

<h3 id="Number-of-Islands-II"><a href="#Number-of-Islands-II" class="headerlink" title="Number of Islands II"></a>Number of Islands II</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands2</span>(<span class="params">self, m, n, positions</span>):</span><br><span class="line">        seen = collections.defaultdict(<span class="built_in">int</span>)</span><br><span class="line">        out = []</span><br><span class="line">        island_id = <span class="number">0</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">x,y,val</span>):</span><br><span class="line">            seen[(x,y)] = val</span><br><span class="line">            <span class="keyword">for</span> dx,dy <span class="keyword">in</span> [(x+<span class="number">1</span>,y),(x-<span class="number">1</span>,y),(x,y+<span class="number">1</span>),(x,y-<span class="number">1</span>)]:</span><br><span class="line">                <span class="keyword">if</span> (dx,dy) <span class="keyword">in</span> seen <span class="keyword">and</span> seen[(dx,dy)]!=val: </span><br><span class="line">                    dfs(dx,dy,val)</span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> positions:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> out:</span><br><span class="line">                out.append(<span class="number">1</span>)</span><br><span class="line">                seen[(x,y)]= island_id</span><br><span class="line">                island_id += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> (x,y) <span class="keyword">in</span> seen:</span><br><span class="line">                out.append(out[-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                overlap = &#123;seen[(dx,dy)]:(dx,dy) <span class="keyword">for</span> dx,dy <span class="keyword">in</span> [(x+<span class="number">1</span>,y),(x-<span class="number">1</span>,y),(x,y+<span class="number">1</span>),(x,y-<span class="number">1</span>)] <span class="keyword">if</span> (dx,dy) <span class="keyword">in</span> seen&#125;</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(overlap) &lt;<span class="number">1</span>:</span><br><span class="line">                    out.append(out[-<span class="number">1</span>]+<span class="number">1</span>)</span><br><span class="line">                    seen[(x,y)] = island_id</span><br><span class="line">                    island_id += <span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> <span class="built_in">len</span>(overlap) &lt;<span class="number">2</span>:</span><br><span class="line">                    out.append(out[-<span class="number">1</span>])</span><br><span class="line">                    seen[(x,y)]= <span class="built_in">min</span>(overlap)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    chosen = <span class="built_in">min</span>(overlap)</span><br><span class="line">                    <span class="keyword">for</span> (dx,dy) <span class="keyword">in</span> overlap.values():</span><br><span class="line">                        dfs(dx,dy,chosen)</span><br><span class="line">                    seen[(x,y)] = chosen</span><br><span class="line">                    out.append(out[-<span class="number">1</span>]-<span class="built_in">len</span>(overlap)+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> out</span><br></pre></td></tr></table></figure>








      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/28/leetcode%20practice1/" data-id="clbdzyojj00003faa3bv0ecv1" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/12/07/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/07/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2022/09/28/leetcode%20practice1/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>